CREATE TABLE IF NOT EXISTS Category (ID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255) NOT NULL UNIQUE);

CREATE TABLE IF NOT EXISTS Storage (ID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255) NOT NULL UNIQUE, Location VARCHAR(255));

CREATE TABLE IF NOT EXISTS Tags (ID INTEGER PRIMARY KEY AUTOINCREMENT,
Title VARCHAR(255));

CREATE TABLE IF NOT EXISTS Thing (ID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255), Description VARCHAR(255), Unit VARCHAR(30), Quantity INTEGER,
StorageID INTEGER , CategoryID INTEGER, UNIQUE (ID),
FOREIGN KEY (StorageID) REFERENCES Storage(ID),
FOREIGN KEY (CategoryID) REFERENCES Category(ID));

CREATE TABLE IF NOT EXISTS User (ID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255), Lastname VARCHAR(255),
Email VARCHAR(255) NOT NULL UNIQUE, Password VARCHAR(255), LastLogin VARCHAR(255),
Active BIT);

CREATE TABLE IF NOT EXISTS ThingTag (ID INTEGER PRIMARY KEY AUTOINCREMENT,
TagID INTEGER, ThingID INTEGER, FOREIGN KEY (TagID) REFERENCES Tags(ID),
FOREIGN KEY (ThingID) REFERENCES Thing(ID));

CREATE TABLE IF NOT EXISTS UserThing (ID INTEGER PRIMARY KEY AUTOINCREMENT,
UserID INTEGER, ThingID INTEGER, FOREIGN KEY (UserID) REFERENCES User(ID),
FOREIGN KEY (ThingID) REFERENCES Thing(ID));

CREATE TABLE IF NOT EXISTS Session (ID INTEGER PRIMARY KEY AUTOINCREMENT,
UserID INTEGER NOT NULL UNIQUE, SessionKey VARCHAR(255) UNIQUE, TimeStamp VARCHAR(255),
FOREIGN KEY (UserID) REFERENCES User(ID));